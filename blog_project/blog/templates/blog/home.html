{% extends "base.html" %}
{% block content %}

<h1>Blog Posts</h1>

<a href="{% url 'create_post' %}" class="btn btn-create">
        ✏️ Create Post
    </a>

<div class="post-grid">
    {% for post in posts %}
        <div class="post-card">
            <h2 class="post-title">{{ post.title }}</h2>

            <p class="post-excerpt">
                {{ post.content|truncatewords:5 }}
            </p>

            <div class="post-meta">
                <span>By {{ post.author }}</span>
                <span>{{ post.created_at|date:"M d, Y" }}</span>
            </div>

            <a href="{% url 'post_detail' post.id %}" class="btn btn-secondary">
                View Post →
            </a>
        </div>
    {% empty %}
        <p>No posts yet.</p>
    {% endfor %}
</div>

<!-- PAGINATION -->
<div class="pagination">
    {% if posts.has_previous %}
        <a href="?page={{ posts.previous_page_number }}">← Previous</a>
    {% endif %}

    <span>Page {{ posts.number }} of {{ posts.paginator.num_pages }}</span>

    {% if posts.has_next %}
        <a href="?page={{ posts.next_page_number }}">Next →</a>
    {% endif %}
</div>

{% endblock %}
